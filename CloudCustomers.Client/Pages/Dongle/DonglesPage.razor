@page "/Dongles"
@using Microsoft.Extensions.Localization
@using CloudCustomers.Application.Responses.Dongles
@inject IStringLocalizer<DonglesPage> _localizer
@inject IDialogService DialogService

<MudGrid Justify="Justify.FlexStart">
    <MudItem xs="12">
        <MudItem xs="3">
            <MudPaper Class="d-flex justify-center mud-width-full py-2" Style="width: 93%;">
                <MudItem xs="6">
                    <MudImage Src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80"
                              Width="90" Height="90" Alt="logo" Elevation="25" Class="rounded-lg ma-4" Fluid="true"/>
                </MudItem>
                <MudItem xs="6" Style="margin: auto;">
                    <MudText Typo="Typo.caption" Align="Align.Center" GutterBottom="true">
                        Anton Kharhcenko
                    </MudText>
                    <p>
                        <MudText Typo="Typo.caption" Align="Align.Center" GutterBottom="true">Micorinvest</MudText>
                    </p>
                    <MudButton OnClick="OpenDialog" Size="Size.Small"  DisableRipple="true"
                               Color="Color.Info"
                               Variant="Variant.Text" EndIcon="@Icons.Filled.ChevronRight">
                        Actions
                    </MudButton>
                </MudItem>
            </MudPaper>
        </MudItem>
         <MudItem xs="9">
             <MudTable Items="@_table" Dense="@dense" Hover="@hover" Bordered="@bordered" Striped="@striped" 
                       Filter="new Func<DongleInformationResponse,bool>(FilterFunc1)">
                   <ToolBarContent>
                       <MudText Typo="Typo.h6">Periodic Elements</MudText>
                       <MudSpacer />
                       <MudTextField @bind-Value="searchString" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
                   </ToolBarContent>
                   <HeaderContent>
                       <MudTh>Product Name</MudTh>
                       <MudTh>Dealer Company</MudTh>
                       <MudTh>Expiration</MudTh>
                       <MudTh>Serial Number</MudTh>
                   </HeaderContent>
                   <RowTemplate>
                       <MudTd DataLabel="Sign">@context.ProductName</MudTd>
                       <MudTd DataLabel="Name">@context.DealerСompany</MudTd>
                       <MudTd DataLabel="Position">@context.Expiration</MudTd>
                       <MudTd DataLabel="Molar mass">@context.SerialNumber</MudTd>
                   </RowTemplate>
                   <PagerContent>
                       <MudTablePager />
                   </PagerContent>
               </MudTable>
            </MudItem>
    </MudItem>
    <MudItem xs="3">
        <MudExpansionPanels>
            <MudExpansionPanel @bind-IsExpanded="isOpen" HideIcon="true">
                <TitleContent>
                    <div class="d-flex">
                        <MudText>@_localizer["Pick the dongle"]</MudText>
                        <MudIcon Icon="@(isOpen ? Icons.Material.Filled.Close : Icons.Material.Filled.Add)" class="ml-auto"></MudIcon>
                    </div>
                </TitleContent>
                <ChildContent>
                    <MudButton Variant="Variant.Filled" Style="box-shadow: none; background-color: transparent;">
                        <MudAlert Severity="Severity.Info" NoIcon="true" Class="my-2">1.X12476-123-521521</MudAlert>
                    </MudButton>
                    <MudButton Variant="Variant.Filled" Style="box-shadow: none; background-color: transparent;">
                        <MudAlert Severity="Severity.Info" NoIcon="true" Class="my-2">2.X132176-wq2321-521521</MudAlert>
                    </MudButton>
                </ChildContent>
            </MudExpansionPanel>
        </MudExpansionPanels>
    </MudItem>
</MudGrid>